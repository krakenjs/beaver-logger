!function(e,n){"object"==typeof exports&&"object"==typeof module?module.exports=n():"function"==typeof define&&define.amd?define("beaver",[],n):"object"==typeof exports?exports.beaver=n():e.beaver=n()}("undefined"!=typeof self?self:this,(function(){return function(e){var n={};function r(t){if(n[t])return n[t].exports;var o=n[t]={i:t,l:!1,exports:{}};return e[t].call(o.exports,o,o.exports,r),o.l=!0,o.exports}return r.m=e,r.c=n,r.d=function(e,n,t){r.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:t})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,n){if(1&n&&(e=r(e)),8&n)return e;if(4&n&&"object"==typeof e&&e&&e.__esModule)return e;var t=Object.create(null);if(r.r(t),Object.defineProperty(t,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var o in e)r.d(t,o,function(n){return e[n]}.bind(null,o));return t},r.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(n,"a",n),n},r.o=function(e,n){return{}.hasOwnProperty.call(e,n)},r.p="",r(r.s=0)}([function(e,n,r){"use strict";function t(){return(t=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var r=arguments[n];for(var t in r)({}).hasOwnProperty.call(r,t)&&(e[t]=r[t])}return e}).apply(this,arguments)}function o(e,n){void 0===n&&(n=Boolean);var r={};for(var t in e)e.hasOwnProperty(t)&&n(e[t],t)&&(r[t]=e[t]);return r}function u(){return"undefined"!=typeof window}r.r(n),Object.create(Error.prototype);var i={DEBUG:"debug",INFO:"info",WARN:"warn",ERROR:"error"},f={FILE:"file:"},a=[i.WARN,i.ERROR],c=6e4;function d(e,n){for(var r in n)n.hasOwnProperty(r)&&n[r]&&!e[r]&&(e[r]=n[r])}function l(e){var n=e.url,r=e.prefix,l=e.flushInterval,s=void 0===l?c:l,p=[],v=[],h=[],y=[],O=[],b=[];function g(){if(u()&&window.location.protocol!==f.FILE&&(p.length||v.length)){var e=function(){for(var e={},n=0;n<y.length;n++)d(e,(0,y[n])(e));for(var r={},t=0;t<b.length;t++)d(r,(0,b[t])(r));return{meta:e,headers:r}}(),r={events:p,meta:e.meta,tracking:v};p=[],v=[],function(e){var n=e.method,r=void 0===n?"GET":n,t=e.url,o=e.headers,u=e.json,i=new XMLHttpRequest;i.open(r,t);for(var f=0,a=Object.keys(o);f<a.length;f++){var c=a[f];i.setRequestHeader(c,o[c])}i.send(JSON.stringify(u))}({method:"POST",url:n,headers:e.headers,json:r})}}var m,R,j=g;function w(e,n,i){if(void 0===i&&(i={}),!u())return E;r&&(n=r+"_"+n);for(var f=t({},o(i),{timestamp:Date.now().toString()}),c=0;c<h.length;c++)d(f,(0,h[c])(f));return function(e,n,r){p.push({level:e,event:n,payload:r}),-1!==a.indexOf(e)&&j()}(e,n,f),E}function x(e,n){return e.push(n),E}u()&&(m=j,R=s,function e(){setTimeout((function(){m(),e()}),R)}());var E={debug:function(e,n){return w(i.DEBUG,e,n)},info:function(e,n){return w(i.INFO,e,n)},warn:function(e,n){return w(i.WARN,e,n)},error:function(e,n){return w(i.ERROR,e,n)},track:function(e){if(void 0===e&&(e={}),!u())return E;for(var n=o(e),r=0;r<O.length;r++)d(n,(0,O[r])(n));return v.push(n),E},flush:j,immediateFlush:g,addPayloadBuilder:function(e){return x(h,e)},addMetaBuilder:function(e){return x(y,e)},addTrackingBuilder:function(e){return x(O,e)},addHeaderBuilder:function(e){return x(b,e)}};return E}r.d(n,"Logger",(function(){return l})),r.d(n,"LOG_LEVEL",(function(){return i})),r.d(n,"PROTOCOL",(function(){return f}))}])}));
//# sourceMappingURL=beaver-logger.lite.min.js.map