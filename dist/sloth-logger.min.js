!function(e,n){"object"==typeof exports&&"object"==typeof module?module.exports=n():"function"==typeof define&&define.amd?define(n()):"object"==typeof exports?exports.$logger=n():e.$logger=n()}(this,function(){return function(e){function n(o){if(t[o])return t[o].exports;var r=t[o]={exports:{},id:o,loaded:!1};return e[o].call(r.exports,r,r.exports,n),r.loaded=!0,r.exports}var t={};return n.m=e,n.c=t,n.p="",n(0)}([function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o=t(1);Object.keys(o).forEach(function(e){"default"!==e&&Object.defineProperty(n,e,{enumerable:!0,get:function(){return o[e]}})});var r=t(7);Object.keys(r).forEach(function(e){"default"!==e&&Object.defineProperty(n,e,{enumerable:!0,get:function(){return r[e]}})});var i=t(9);Object.keys(i).forEach(function(e){"default"!==e&&Object.defineProperty(n,e,{enumerable:!0,get:function(){return i[e]}})});var a=t(5);Object.keys(a).forEach(function(e){"default"!==e&&Object.defineProperty(n,e,{enumerable:!0,get:function(){return a[e]}})}),n["default"]=e.exports},function(e,n,t){"use strict";function o(e,n,t){if(window.console&&window.console.log){t=t||{};var o=[n];o.push(t),(t.error||t.warning)&&o.push("\n\n",t.error||t.warning),(window.console[e]||window.console.log).apply(window.console,o)}}function r(){var e=arguments.length<=0||void 0===arguments[0]?!0:arguments[0];if(p.config.uri){var t=m.length,r=Object.keys(g).length;if(t||r){r&&o("info","tracking",g);var i={},a=!0,c=!1,u=void 0;try{for(var f,s=h.metaBuilders[Symbol.iterator]();!(a=(f=s.next()).done);a=!0){var l=f.value;try{(0,d.extend)(i,l(),!1)}catch(v){console.error("Error in custom meta builder:",v.stack||v.toString())}}}catch(v){c=!0,u=v}finally{try{!a&&s["return"]&&s["return"]()}finally{if(c)throw u}}var w=m,y=(0,d.ajax)("post",p.config.uri,{events:w,meta:i,tracking:g},e);return n.buffer=m=[],n.tracking=g={},y}}}function i(e,n,t){m.push({level:e,event:n,payload:t}),p.config.autoLog.indexOf(e)>-1&&w()}function a(e,n,t){(0,v.init)(),t=t||{},"string"==typeof t?t={message:t}:t instanceof Error&&(t={error:t.stack||t.toString()}),t.timestamp=Date.now();var r=!0,a=!1,c=void 0;try{for(var u,f=h.payloadBuilders[Symbol.iterator]();!(r=(u=f.next()).done);r=!0){var s=u.value;try{(0,d.extend)(t,s(),!1)}catch(l){console.error("Error in custom payload builder:",l.stack||l.toString())}}}catch(l){a=!0,c=l}finally{try{!r&&f["return"]&&f["return"]()}finally{if(a)throw c}}o(e,n,t),m.length===p.config.sizeLimit?i("info","logger_max_buffer_length"):m.length<p.config.sizeLimit&&i(e,n,t)}function c(e,n){return a("debug",e,n)}function u(e,n){return a("info",e,n)}function f(e,n){return a("warn",e,n)}function s(e,n){return a("error",e,n)}function l(e){(0,d.extend)(g,e||{},!1)}Object.defineProperty(n,"__esModule",{value:!0}),n.flush=n.tracking=n.buffer=void 0,n.print=o,n.immediateFlush=r,n.log=a,n.debug=c,n.info=u,n.warn=f,n.error=s,n.track=l;var d=t(2),h=t(5),p=t(6),v=t(7),m=n.buffer=[],g=n.tracking={},w=n.flush=(0,d.promiseDebounce)(r,p.config.debounceInterval)},function(e,n,t){"use strict";function o(e,n){var t=arguments.length<=2||void 0===arguments[2]?!0:arguments[2];e=e||{},n=n||{};for(var o in n)n.hasOwnProperty(o)&&(!t&&e.hasOwnProperty(o)||(e[o]=n[o]));return e}function r(e){var n=e.match(/https?:\/\/[^\/]+/);return n?n[0]===window.location.protocol+"//"+window.location.host:!0}function i(e,n,t){var o=arguments.length<=3||void 0===arguments[3]?!0:arguments[3];return new f.Promise(function(i){var a=window.XMLHttpRequest||window.ActiveXObject;window.XDomainRequest&&!r(n)&&(a=window.XDomainRequest);var c=new a("MSXML2.XMLHTTP.3.0");c.open(e.toUpperCase(),n,o),c.setRequestHeader("X-Requested-With","XMLHttpRequest"),c.setRequestHeader("Content-type","application/json"),c.onreadystatechange=function(){c.readyState>3&&i()},c.send(JSON.stringify(t).replace(/&/g,"%26"))})}function a(e,n){var t={};return function(){var o=arguments;return t.timeout&&(clearTimeout(t.timeout),delete t.timeout),t.timeout=setTimeout(function(){var n=t.resolver;return delete t.promise,delete t.resolver,delete t.timeout,f.Promise.resolve().then(function(){return e.apply(null,o)}).then(n)},n),t.promise=t.promise||new f.Promise(function(e){t.resolver=e}),t.promise}}function c(e,n){function t(){o=setTimeout(function(){e(),t()},n)}var o=void 0;return t(),{cancel:function(){clearTimeout(o)}}}function u(){var e="0123456789abcdef";return"xxxxxxxxxx".replace(/./g,function(){return e.charAt(Math.floor(Math.random()*e.length))})}Object.defineProperty(n,"__esModule",{value:!0}),n.windowReady=void 0,n.extend=o,n.isSameDomain=r,n.ajax=i,n.promiseDebounce=a,n.safeInterval=c,n.uniqueID=u;var f=t(3);n.windowReady=new f.Promise(function(e){"complete"===document.readyState&&e(),window.addEventListener("load",e)})},function(e,n,t){var o;(function(r,i){/*!
	 * @overview es6-promise - a tiny implementation of Promises/A+.
	 * @copyright Copyright (c) 2014 Yehuda Katz, Tom Dale, Stefan Penner and contributors (Conversion to ES6 API by Jake Archibald)
	 * @license   Licensed under MIT license
	 *            See https://raw.githubusercontent.com/jakearchibald/es6-promise/master/LICENSE
	 * @version   2.0.1
	 */
(function(){function a(e,n){q[M]=e,q[M+1]=n,M+=2,2===M&&O()}function c(e){return"function"==typeof e}function u(){return function(){r.nextTick(d)}}function f(){var e=0,n=new I(d),t=document.createTextNode("");return n.observe(t,{characterData:!0}),function(){t.data=e=++e%2}}function s(){var e=new MessageChannel;return e.port1.onmessage=d,function(){e.port2.postMessage(0)}}function l(){return function(){setTimeout(d,1)}}function d(){for(var e=0;M>e;e+=2)(0,q[e])(q[e+1]),q[e]=void 0,q[e+1]=void 0;M=0}function h(){}function p(e,n,t,o){try{e.call(n,t,o)}catch(r){return r}}function v(e,n,t){a(function(e){var o=!1,r=p(t,n,function(t){o||(o=!0,n!==t?g(e,t):y(e,t))},function(n){o||(o=!0,b(e,n))});!o&&r&&(o=!0,b(e,r))},e)}function m(e,n){1===n.a?y(e,n.b):2===e.a?b(e,n.b):E(n,void 0,function(n){g(e,n)},function(n){b(e,n)})}function g(e,n){if(e===n)b(e,new TypeError("You cannot resolve a promise with itself"));else if("function"==typeof n||"object"==typeof n&&null!==n)if(n.constructor===e.constructor)m(e,n);else{var t;try{t=n.then}catch(o){A.error=o,t=A}t===A?b(e,A.error):void 0===t?y(e,n):c(t)?v(e,n,t):y(e,n)}else y(e,n)}function w(e){e.f&&e.f(e.b),x(e)}function y(e,n){void 0===e.a&&(e.b=n,e.a=1,0!==e.e.length&&a(x,e))}function b(e,n){void 0===e.a&&(e.a=2,e.b=n,a(w,e))}function E(e,n,t,o){var r=e.e,i=r.length;e.f=null,r[i]=n,r[i+1]=t,r[i+2]=o,0===i&&e.a&&a(x,e)}function x(e){var n=e.e,t=e.a;if(0!==n.length){for(var o,r,i=e.b,a=0;a<n.length;a+=3)o=n[a],r=n[a+t],o?j(t,o,r,i):r(i);e.e.length=0}}function _(){this.error=null}function j(e,n,t,o){var r,i,a,u,f=c(t);if(f){try{r=t(o)}catch(s){C.error=s,r=C}if(r===C?(u=!0,i=r.error,r=null):a=!0,n===r)return void b(n,new TypeError("A promises callback cannot return that same promise."))}else r=o,a=!0;void 0===n.a&&(f&&a?g(n,r):u?b(n,i):1===e?y(n,r):2===e&&b(n,r))}function P(e,n){try{n(function(n){g(e,n)},function(n){b(e,n)})}catch(t){b(e,t)}}function T(e,n,t,o){this.n=e,this.c=new e(h,o),this.i=t,this.o(n)?(this.m=n,this.d=this.length=n.length,this.l(),0===this.length?y(this.c,this.b):(this.length=this.length||0,this.k(),0===this.d&&y(this.c,this.b))):b(this.c,this.p())}function S(e){if(B++,this.b=this.a=void 0,this.e=[],h!==e){if(!c(e))throw new TypeError("You must pass a resolver function as the first argument to the promise constructor");if(!(this instanceof S))throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.");P(this,e)}}var O,L=Array.isArray?Array.isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)},M=0,k="undefined"!=typeof window?window:{},I=k.MutationObserver||k.WebKitMutationObserver,k="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel,q=Array(1e3);O="undefined"!=typeof r&&"[object process]"==={}.toString.call(r)?u():I?f():k?s():l();var A=new _,C=new _;T.prototype.o=function(e){return L(e)},T.prototype.p=function(){return Error("Array Methods must be provided an Array")},T.prototype.l=function(){this.b=Array(this.length)},T.prototype.k=function(){for(var e=this.length,n=this.c,t=this.m,o=0;void 0===n.a&&e>o;o++)this.j(t[o],o)},T.prototype.j=function(e,n){var t=this.n;"object"==typeof e&&null!==e?e.constructor===t&&void 0!==e.a?(e.f=null,this.g(e.a,n,e.b)):this.q(t.resolve(e),n):(this.d--,this.b[n]=this.h(e))},T.prototype.g=function(e,n,t){var o=this.c;void 0===o.a&&(this.d--,this.i&&2===e?b(o,t):this.b[n]=this.h(t)),0===this.d&&y(o,this.b)},T.prototype.h=function(e){return e},T.prototype.q=function(e,n){var t=this;E(e,void 0,function(e){t.g(1,n,e)},function(e){t.g(2,n,e)})};var B=0;S.all=function(e,n){return new T(this,e,!0,n).c},S.race=function(e,n){function t(e){g(r,e)}function o(e){b(r,e)}var r=new this(h,n);if(!L(e))return b(r,new TypeError("You must pass an array to race.")),r;for(var i=e.length,a=0;void 0===r.a&&i>a;a++)E(this.resolve(e[a]),void 0,t,o);return r},S.resolve=function(e,n){if(e&&"object"==typeof e&&e.constructor===this)return e;var t=new this(h,n);return g(t,e),t},S.reject=function(e,n){var t=new this(h,n);return b(t,e),t},S.prototype={constructor:S,then:function(e,n){var t=this.a;if(1===t&&!e||2===t&&!n)return this;var o=new this.constructor(h),r=this.b;if(t){var i=arguments[t-1];a(function(){j(t,o,i,r)})}else E(this,o,e,n);return o},"catch":function(e){return this.then(null,e)}};var D={Promise:S,polyfill:function(){var e;e="undefined"!=typeof i?i:"undefined"!=typeof window&&window.document?window:self,"Promise"in e&&"resolve"in e.Promise&&"reject"in e.Promise&&"all"in e.Promise&&"race"in e.Promise&&function(){var n;return new e.Promise(function(e){n=e}),c(n)}()||(e.Promise=S)}};o=function(){return D}.call(n,t,n,e),!(void 0!==o&&(e.exports=o))}).call(this)}).call(n,t(4),function(){return this}())},function(e,n){function t(){f&&a&&(f=!1,a.length?u=a.concat(u):s=-1,u.length&&o())}function o(){if(!f){var e=setTimeout(t);f=!0;for(var n=u.length;n;){for(a=u,u=[];++s<n;)a&&a[s].run();s=-1,n=u.length}a=null,f=!1,clearTimeout(e)}}function r(e,n){this.fun=e,this.array=n}function i(){}var a,c=e.exports={},u=[],f=!1,s=-1;c.nextTick=function(e){var n=new Array(arguments.length-1);if(arguments.length>1)for(var t=1;t<arguments.length;t++)n[t-1]=arguments[t];u.push(new r(e,n)),1!==u.length||f||setTimeout(o,0)},r.prototype.run=function(){this.fun.apply(null,this.array)},c.title="browser",c.browser=!0,c.env={},c.argv=[],c.version="",c.versions={},c.on=i,c.addListener=i,c.once=i,c.off=i,c.removeListener=i,c.removeAllListeners=i,c.emit=i,c.binding=function(e){throw new Error("process.binding is not supported")},c.cwd=function(){return"/"},c.chdir=function(e){throw new Error("process.chdir is not supported")},c.umask=function(){return 0}},function(e,n){"use strict";function t(e){r.push(e)}function o(e){i.push(e)}Object.defineProperty(n,"__esModule",{value:!0}),n.addPayloadBuilder=t,n.addMetaBuilder=o;var r=n.payloadBuilders=[],i=n.metaBuilders=[]},function(e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});n.config={uri:"",initial_state_name:"init",flushInterval:6e5,debounceInterval:10,sizeLimit:300,heartbeat:!0,heartbeatConsoleLog:!0,heartbeatInterval:5e3,hearbeatMaxThreshold:50,heartbeatTooBusyThreshold:1e4,autoLog:["warn","error"],logUnload:!0,logUnloadSync:!1,logPerformance:!0}},function(e,n,t){"use strict";function o(e){(0,i.extend)(r.config,e||{}),u||(u=!0,r.config.logPerformance&&(0,a.initPerformance)(),r.config.heartbeat&&(0,a.initHeartBeat)(),r.config.logUnload&&!function(){var e=!r.config.logUnloadSync;window.addEventListener("beforeunload",function(){(0,c.info)("window_beforeunload"),(0,c.immediateFlush)(e)}),window.addEventListener("unload",function(){(0,c.info)("window_unload"),(0,c.immediateFlush)(e)})}(),r.config.flushInterval&&setInterval(c.flush,r.config.flushInterval),window.beaverLogQueue&&(window.beaverLogQueue.forEach(function(e){(0,c.log)(e.level,e.event,e)}),delete window.beaverLogQueue))}Object.defineProperty(n,"__esModule",{value:!0}),n.init=o;var r=t(6),i=t(2),a=t(8),c=t(1),u=!1},function(e,n,t){"use strict";function o(){return d?performance.now():Date.now()}function r(e){return e=void 0!==e?e:o(),{startTime:e,elapsed:function(){return parseInt(o()-e,10)},reset:function(){e=o()}}}function i(){if(d){var e=window.performance.timing;return parseInt(e.connectEnd-e.navigationStart,10)}}function a(){var e=r(),n=0;(0,l.safeInterval)(function(){if(f.buffer.length&&"heartbeat"===f.buffer[f.buffer.length-1].event||(n=0),f.buffer.length&&!(n>u.config.hearbeatMaxThreshold)){n+=1;var t=e.elapsed(),o=t-u.config.heartbeatInterval;o>=u.config.heartbeatTooBusyThreshold&&(0,f.info)("toobusy",{count:n,elapsed:t,lag:o},{noConsole:!u.config.heartbeatConsoleLog}),(0,f.info)("heartbeat",{count:n,elapsed:t,lag:o},{noConsole:!u.config.heartbeatConsoleLog})}},u.config.heartbeatInterval)}function c(){return d?((0,s.addPayloadBuilder)(function(){var e={};return e.client_elapsed=h.elapsed(),d&&(e.req_elapsed=p.elapsed()),e}),void l.windowReady.then(function(){var e=["connectEnd","connectStart","domComplete","domContentLoadedEventEnd","domContentLoadedEventStart","domInteractive","domLoading","domainLookupEnd","domainLookupStart","fetchStart","loadEventEnd","loadEventStart","navigationStart","redirectEnd","redirectStart","requestStart","responseEnd","responseStart","secureConnectionStart","unloadEventEnd","unloadEventStart"],n={};e.forEach(function(e){n[e]=parseInt(window.performance.timing[e],10)||0});var t=n.connectEnd-n.navigationStart;n.connectEnd&&Object.keys(n).forEach(function(e){var o=n[e];o&&(0,f.info)("timing_"+e,{client_elapsed:parseInt(o-n.connectEnd-(h.startTime-t),10),req_elapsed:parseInt(o-n.connectEnd,10)})}),(0,f.info)("timing",n),(0,f.info)("memory",window.performance.memory),(0,f.info)("navigation",window.performance.navigation),window.performance.getEntries&&window.performance.getEntries().forEach(function(e){["link","script","img","css"].indexOf(e.initiatorType)>-1&&(0,f.info)(e.initiatorType,e)})})):(0,f.info)("no_performance_data")}Object.defineProperty(n,"__esModule",{value:!0}),n.reqTimer=n.clientTimer=void 0,n.now=o,n.reqStartElapsed=i,n.initHeartBeat=a,n.initPerformance=c;var u=t(6),f=t(1),s=t(5),l=t(2),d=window&&window.performance&&performance.now&&performance.timing&&performance.timing.connectEnd&&performance.timing.navigationStart&&Math.abs(performance.now()-Date.now())>1e3&&performance.now()-(performance.timing.connectEnd-performance.timing.navigationStart)>0,h=n.clientTimer=r(),p=n.reqTimer=r(i())},function(e,n,t){"use strict";function o(){h=(0,a.now)()}function r(e){h=h||(0,a.reqStartElapsed)();var n=(0,a.now)(),t=void 0;void 0!==h&&(t=parseInt(n-h,0));var o="transition_"+d+"_to_"+e;(0,c.info)(o,{duration:t}),(0,c.track)({transition:o,transition_time:t}),(0,c.immediateFlush)(),h=n,d=e,l=(0,f.uniqueID)()}function i(e){o(),r(e)}Object.defineProperty(n,"__esModule",{value:!0}),n.startTransition=o,n.endTransition=r,n.transition=i;var a=t(8),c=t(1),u=t(5),f=t(2),s=t(6),l=(0,f.uniqueID)(),d=s.config.initial_state_name,h=void 0;(0,u.addPayloadBuilder)(function(){return{pageID:l}}),(0,u.addMetaBuilder)(function(){return{state:"ui_"+d}})}])});
